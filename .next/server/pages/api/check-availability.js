"use strict";(()=>{var e={};e.id=950,e.ids=[950],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},942:(e,t,a)=>{a.r(t),a.d(t,{config:()=>g,default:()=>d,routeModule:()=>m});var r={};a.r(r),a.d(r,{default:()=>u});var n=a(1802),i=a(7153),o=a(6249);let s=require("googleapis"),c=require("moment-timezone");var l=a.n(c);async function u(e,t){if("POST"!==e.method)return t.status(405).json({message:"Method not allowed"});let{startTime:a,endTime:r}=e.body;if(!a||!r)return t.status(400).json({message:"Missing required parameters: startTime or endTime"});try{let e=new s.google.auth.GoogleAuth({credentials:{client_email:process.env.GOOGLE_CLIENT_EMAIL,private_key:process.env.GOOGLE_PRIVATE_KEY.replace(/\\n/g,"\n")},scopes:["https://www.googleapis.com/auth/calendar"]}),n=s.google.calendar({version:"v3",auth:e}),i=l().tz(a,"America/Chicago").toISOString(),o=l().tz(r,"America/Chicago").toISOString(),c=!(await n.freebusy.query({requestBody:{timeMin:i,timeMax:o,timeZone:"America/Chicago",items:[{id:"c_5a2fe9a6cee20486f80ac3345fab917b10a53817116d37ac52bf337536a8c0d2@group.calendar.google.com"}]}})).data.calendars["c_5a2fe9a6cee20486f80ac3345fab917b10a53817116d37ac52bf337536a8c0d2@group.calendar.google.com"].busy.some(e=>{let t=l()(e.start),a=l()(e.end);return l()(i).isBetween(t,a)||l()(o).isBetween(t,a)||t.isBetween(i,o)||a.isBetween(i,o)});t.status(200).json({isAvailable:c})}catch(e){console.error("Error checking availability:",e),t.status(500).json({message:"Internal server error"})}}let d=(0,o.l)(r,"default"),g=(0,o.l)(r,"config"),m=new n.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/check-availability",pathname:"/api/check-availability",bundlePath:"",filename:""},userland:r})},7153:(e,t)=>{var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},1802:(e,t,a)=>{e.exports=a(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var a=t(t.s=942);module.exports=a})();